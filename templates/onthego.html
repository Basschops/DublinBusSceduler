{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="jumbotron text-center">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <p>ON THE GO</p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-8" style="background-color:white;">
        <div id="map" style="width:100%; height:400px;">
          <!-- google maps go here -->
        </div>
      </div>
      <div class="col-sm-4">
        <br>
        <form action="/onthego/formdata" method="get">
          <div class="form-group">
            <label>Bus Number:</label>
            <input class="form-control" type="text" placeholder="e.g. 46A" name="busnum_var" required>
          </div>
          <div class="form-group">
            <label>From:</label>
            <input class="form-control" type="text" placeholder="e.g. 736" name="from_var" required>
          </div>
          <div class="form-group">
            <label>To:</label>
            <input class="form-control" type="text" placeholder="e.g. 840" name="to_var" required>
          </div>
          <button class="btn btn-primary" type="submit">Submit</button>
        </form>
      </div>
    </div>

    <!-- server side rendering of the response to the form submission -->
    <!-- in next iteration of the product, replace with AJAX call for client side rendering -->
    {% if busNum %} <!-- if bus number variable is not null...simple check to see if data is returned, before rendering anything below. -->
    <div class="row" id="response-row-1">
      <div class="col-sm-4">
        <p>Your Bus number is: {{ busNum }}</p>
      </div>
      <div class="col-sm-4">
        <p>From: {{ from }}</p>
      </div>
      <div class="col-sm-4">
        <p>To: {{ to }}</p>
      </div>
    </div>
    <div class="row" id="response-row-2">
      <div class="col-sm-4">
        <p>Journey time: {{ journeyTime }} min</p>
      </div>
      <div class="col-sm-4">
        <p>Journey cost: â‚¬{{ cost }}</p>
      </div>
      <div class="col-sm-4">
        <p>Best time to catch bus: {{ bestStartTime }}</p>
      </div>
    </div>
    {% endif %}

  </div>
</div>
{% endblock %}